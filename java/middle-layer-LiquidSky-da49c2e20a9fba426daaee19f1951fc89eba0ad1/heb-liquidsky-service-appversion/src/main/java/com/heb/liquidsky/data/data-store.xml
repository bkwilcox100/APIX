<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<data-store>

	<!--
		========================================================== 
		Definitions of resources for Liquid Sky Context Filters 
		========================================================== 
	-->
	<!-- Liquid Sky Translation Repository Definition -->
	<data-type name="contextFilters" id-property="dataTypeName" pub-sub-enabled="false" fcm-enabled="false">
		<table name="ls_context_filters" type="primary" id-column="data_type_name">
			<column column-name="data_type_name" property="dataTypeName" />
			<column column-name="description" property="description" />
			<column column-name="json_data" property="jsonData" />
		</table>
	</data-type>
	
		<!--
		========================================================== 
		Definitions of resources for AppProperties (App Version)
		========================================================== 
	-->
	<!--  Defines an app version DataType -->
	<data-type name="appProperties" id-property="appId" use-id-generator="false" pub-sub-enabled="false" fcm-enabled="false">
		<table name="heb_app_properties" type="primary" id-column="appId">
			<column column-name="appid" property="appId">
				<attribute name="requiredProperty" value="true"/>
				<attribute name="restrictedProperty" value="true"/>
				<attribute name="maxLength" value="64"/>
				<attribute name="minLength" value="1"/>
			</column>
			<column column-name="description" property="description">
				<attribute name="requiredProperty" value="false"/>
				<attribute name="restrictedProperty" value="false"/>
				<attribute name="maxLength" value="1024"/>
				<attribute name="minLength" value="0"/>
			</column>
		</table>
		
		<!-- defines the link to all app version entries item types attached to this app properties -->
		<table name="heb_app_version" type="reference" id-column="appid">
			<column column-name="app_version_id" list-item-type="appVersion" property="appVersions" read-only="true" cascade="true" />
		</table>

		<!-- Named Queries -->
		<named-query name="all_app_properties">
			select appid from heb_app_properties
		</named-query>
	</data-type>

	<!--  Defines an app version entry -->
	<data-type name="appVersion" id-property="id" id-generator-prefix="av" pub-sub-enabled="false" fcm-enabled="false">
		<table name="heb_app_version" type="primary" id-column="app_version_id">
			<column column-name="app_version_id" property="id">
				<attribute name="restrictedProperty" value="true"/>
			</column>
			<column column-name="appid" item-type="appProperties" property="parent" />
			<column column-name="os_name" property="osName">
				<attribute name="requiredProperty" value="true"/>
				<attribute name="restrictedProperty" value="false"/>
				<attribute name="maxLength" value="64"/>
				<attribute name="minLength" value="1"/>
			</column>
			<column column-name="os_version" property="osVersion">
				<attribute name="requiredProperty" value="true"/>
				<attribute name="restrictedProperty" value="false"/>
				<attribute name="maxLength" value="64"/>
				<attribute name="minLength" value="1"/>
			</column>
		</table>
	</data-type>
	
</data-store>
